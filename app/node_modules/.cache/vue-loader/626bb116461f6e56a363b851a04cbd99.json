{"remainingRequest":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quanghuy/Desktop/covid-tracking/my-app/src/components/map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/src/components/map.vue","mtime":1589808611994},{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/cache-loader/dist/cjs.js","mtime":1584971270451},{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/thread-loader/dist/cjs.js","mtime":1584971270462},{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/babel-loader/lib/index.js","mtime":1584971270489},{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/cache-loader/dist/cjs.js","mtime":1584971270451},{"path":"/home/quanghuy/Desktop/covid-tracking/my-app/node_modules/vue-loader/lib/index.js","mtime":1588547163943}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IExNYXAsIExUaWxlTGF5ZXIsIExDaXJjbGVNYXJrZXIsIExQb3B1cCB9IGZyb20gInZ1ZTItbGVhZmxldCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMTWFwLAogICAgTFRpbGVMYXllciwKICAgIExDaXJjbGVNYXJrZXIsCiAgICBMUG9wdXAKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6CiAgICAgICAgImh0dHBzOi8vdGlsZXMuc3RhZGlhbWFwcy5jb20vdGlsZXMvYWxpZGFkZV9zbW9vdGhfZGFyay97en0ve3h9L3t5fXtyfS5wbmciLAogICAgICB6b29tOiAzLAogICAgICBjZW50ZXI6IFs5Ljc3OTM0OSwgMTA1LjYxODkwNDUsIDExXSwKICAgICAgY291bnRyaWVzX2xvY2F0aW9uOiBbXSwKICAgICAgcHJvdmluY2VzX2xvY2F0aW9uOiBbXSwKICAgICAgY2l0aWVzX2xvY2F0aW9uOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFkZF9SYWRpdXMoKTsKICAgIHRoaXMuZ2V0X3Byb3ZpbmNlcygpOwogICAgdGhpcy5nZXRfY2l0aWVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB6b29tVXBkYXRlZCh6b29tKSB7CiAgICAgIHRoaXMuem9vbSA9IHpvb207CiAgICB9LAogICAgZ2V0X3Byb3ZpbmNlcygpIHsKICAgICAgY29uc3QgcGF0aCA9ICJodHRwczovL3d3dy50cmFja2Nvcm9uYS5saXZlL2FwaS9wcm92aW5jZXMiOwogICAgICBheGlvcy5nZXQocGF0aCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucHJvdmluY2VzX2xvY2F0aW9uID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZ2V0X2NpdGllcygpIHsKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goImh0dHBzOi8vd3d3LnRyYWNrY29yb25hLmxpdmUvYXBpL2NpdGllcyIpOwogICAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgdGhpcy5jaXRpZXNfbG9jYXRpb24gPSBhd2FpdCBkYXRhLmRhdGE7CiAgICB9LAogICAgYXN5bmMgYWRkX1JhZGl1cygpIHsKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goImh0dHBzOi8vd3d3LnRyYWNrY29yb25hLmxpdmUvYXBpL2NvdW50cmllcyIpOwogICAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgdGhpcy5jb3VudHJpZXNfbG9jYXRpb24gPSBhd2FpdCBkYXRhLmRhdGE7CgogICAgICBmb3IgKGxldCBpIGluIHRoaXMuY291bnRyaWVzX2xvY2F0aW9uKSB7CiAgICAgICAgaWYgKHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldLmNvbmZpcm1lZCA8IDEwMDApIHsKICAgICAgICAgIHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldWyJyYWRpdXMiXSA9IDg7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXS5jb25maXJtZWQgPCA1MDAwKSB7CiAgICAgICAgICB0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXVsicmFkaXVzIl0gPSAxMDsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldLmNvbmZpcm1lZCA8IDEwMDAwKSB7CiAgICAgICAgICB0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXVsicmFkaXVzIl0gPSAxNTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldLmNvbmZpcm1lZCA8IDMwMDAwKSB7CiAgICAgICAgICB0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXVsicmFkaXVzIl0gPSAyMDsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldLmNvbmZpcm1lZCA8IDUwMDAwKSB7CiAgICAgICAgICB0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXVsicmFkaXVzIl0gPSAyNTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldLmNvbmZpcm1lZCA8IDEwMDAwMDApIHsKICAgICAgICAgIHRoaXMuY291bnRyaWVzX2xvY2F0aW9uW2ldWyJyYWRpdXMiXSA9IDM1OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvdW50cmllc19sb2NhdGlvbltpXVsicmFkaXVzIl0gPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <l-map style=\"height:1080px\" :zoom=\"zoom\" @update:zoom=\"zoomUpdated\" :center=\"center\">\n    <l-tile-layer :url=\"url\"></l-tile-layer>\n    <div v-if=\"zoom > 0 && zoom < 4\">\n      <l-circle-marker\n        v-for=\"location in countries_location\"\n        :key=\"location.location\"\n        fillColor=\"red\"\n        color=\"red\"\n        :radius=\"location.radius\"\n        :fillOpacity=\"0.5\"\n        :lat-lng=\"[location.latitude, location.longitude]\"\n      >\n        <l-popup>\n          <p>Confirmed: {{location.confirmed}}</p>\n          Dead: {{location.dead}}\n          <br />\n          Recovered: {{location.recovered}}\n        </l-popup>\n      </l-circle-marker>\n    </div>\n    <div v-if=\"zoom >= 4 && zoom < 6\">\n      <l-circle-marker\n        v-for=\"location in provinces_location\"\n        :key=\"location.location\"\n        fillColor=\"red\"\n        color=\"red\"\n        :radius=\"5\"\n        :fillOpacity=\"1\"\n        :lat-lng=\"[location.latitude, location.longitude]\"\n      >\n        <l-popup>\n          <p>Confirmed: {{location.confirmed}}</p>\n          Dead: {{location.dead}}\n          <br />\n          Recovered: {{location.recovered}}\n        </l-popup>\n      </l-circle-marker>\n    </div>\n    <div v-if=\"zoom >= 6\">\n      <l-circle-marker\n        v-for=\"(location, index) in cities_location\"\n        :key=\"index\"\n        fillColor=\"red\"\n        color=\"white\"\n        :radius=\"5\"\n        :fillOpacity=\"1\"\n        :lat-lng=\"[location.latitude, location.longitude]\"\n      >\n        <l-popup>\n          <p>Confirmed: {{location.confirmed}}</p>\n          Dead: {{location.dead}}\n          <br />\n          Recovered: {{location.recovered}}\n        </l-popup>\n      </l-circle-marker>\n    </div>\n  </l-map>\n</template>\n\n<script>\nimport { LMap, LTileLayer, LCircleMarker, LPopup } from \"vue2-leaflet\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LCircleMarker,\n    LPopup\n  },\n  data() {\n    return {\n      url:\n        \"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png\",\n      zoom: 3,\n      center: [9.779349, 105.6189045, 11],\n      countries_location: [],\n      provinces_location: [],\n      cities_location: []\n    };\n  },\n  mounted() {\n    this.add_Radius();\n    this.get_provinces();\n    this.get_cities();\n  },\n  methods: {\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    get_provinces() {\n      const path = \"https://www.trackcorona.live/api/provinces\";\n      axios.get(path).then(res => {\n        this.provinces_location = res.data.data;\n      });\n    },\n    async get_cities() {\n      let response = await fetch(\"https://www.trackcorona.live/api/cities\");\n      let data = await response.json();\n      this.cities_location = await data.data;\n    },\n    async add_Radius() {\n      let response = await fetch(\"https://www.trackcorona.live/api/countries\");\n      let data = await response.json();\n      this.countries_location = await data.data;\n\n      for (let i in this.countries_location) {\n        if (this.countries_location[i].confirmed < 1000) {\n          this.countries_location[i][\"radius\"] = 8;\n        } else if (this.countries_location[i].confirmed < 5000) {\n          this.countries_location[i][\"radius\"] = 10;\n        } else if (this.countries_location[i].confirmed < 10000) {\n          this.countries_location[i][\"radius\"] = 15;\n        } else if (this.countries_location[i].confirmed < 30000) {\n          this.countries_location[i][\"radius\"] = 20;\n        } else if (this.countries_location[i].confirmed < 50000) {\n          this.countries_location[i][\"radius\"] = 25;\n        } else if (this.countries_location[i].confirmed < 1000000) {\n          this.countries_location[i][\"radius\"] = 35;\n        } else {\n          this.countries_location[i][\"radius\"] = 0;\n        }\n      }\n    }\n  }\n};\n</script>"]}]}